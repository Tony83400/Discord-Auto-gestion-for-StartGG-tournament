from dotenv import load_dotenv
import os

translations = {
    "fr": {
        "station_assigned_log": "Station: {station} assignÃ© au match : {match}",
        "startgg_report_error": "Erreur report start.gg: {error}",
        "event_option_label": "{name} ({numEntrants} participants)",
        "event_select_placeholder": "SÃ©lectionnez un Ã©vÃ©nement",
        "event_selected": "âœ… Ã‰vÃ©nement sÃ©lectionnÃ© : **{name}**",
        "no_phase_available": "Aucune phase disponible",
        "phase_select_placeholder": "SÃ©lectionnez une phase",
        "pool_option_label": "Poule {displayIdentifier}",
        "pool_select_placeholder": "SÃ©lectionnez une poule",
        "player_dq_no_show": "âŒ {player} disqualifiÃ© pour absence, {winner} gagne le match",
        "present_button": "{player} cliquez ici si vous Ãªtes sur le setup",
        "not_your_button": "âŒ Ce n'est pas votre bouton !",
        "player_confirmed_present": "âœ… {player} est prÃ©sent !",
        "time_limit_label": "â³ Temps limite pour confirmer la prÃ©sence",
        "players_status_label": "PrÃ©sence des joueurs",
        "both_players_present": "âœ… Les deux joueurs sont prÃ©sents",
        "player_disqualified": "âŒ {player} disqualifiÃ© pour absence",
        "time_limit_value": "5 minutes",
        "presence_check_title": "VÃ©rification de prÃ©sence",
        "presence_check_description": "Veuillez confirmer votre prÃ©sence sur le setup",
        "no_pool_available": "Aucune poule disponible",
        "validate_config_label": "âœ… Valider la configuration",
        "stations_description": "Liste toutes les stations et leur statut",
        "help_description": "affiche le menu d'aide complet du bot",
        "match_status_description": "Affiche le statut du gestionnaire de matchs",
        "force_station_free_description": "Force la libÃ©ration d'une station (en cas de problÃ¨me)",
        "config_event_summary": "ğŸ® **Ã‰vÃ©nement** : {name}",
        "config_phase_summary": "ğŸ“Š **Phase** : {name}",
        "config_pool_summary": "ğŸŠ **Poule** : {displayIdentifier}",
        "select_event_before_validate": "âŒ Veuillez sÃ©lectionner au moins un Ã©vÃ©nement avant de valider.",
        "tournament_validated_title": "âœ… Configuration du tournoi validÃ©e !",
        "next_step_label": "â¡ï¸ Ã‰tape suivante",
        "next_step_value": "Configurez maintenant les paramÃ¨tres de match",
        "winner_select_placeholder": "Qui a gagnÃ© le match ?",
        "winner_selected": "âœ… {name} dÃ©signÃ© comme vainqueur",
        "no_character_available": "0 personnage disponible",
        "no_result": "Aucun rÃ©sultat",
        "character_select_placeholder": "Personnage ({count} disponibles)",
        "character_selected": "âœ… {character} sÃ©lectionnÃ© pour {name}",
        "search_label": "Tapez une partie du nom",
        "match_title": "âš” {p1} vs {p2}",
        "not_selected": "âŒ Non sÃ©lectionnÃ©",
        "winner_label": "ğŸ† VAINQUEUR",
        "character_select_for": "SÃ©lection du personnage pour {name}",
        "winner_select_label": "SÃ©lectionnez le gagnant du match :",
        "complete_all_selections": "Veuillez complÃ©ter toutes les sÃ©lections",
        "result_saved_title": "ğŸ‰ RÃ©sultat enregistrÃ© !",
        "match_configure_desc": "Configurez le match:",
        "match_format_label": "âš”ï¸ Format de match",
        "delete_stations_description": "supprimer toutes les stations",
        "delete_stations_done": "âœ… {num_station} stations supprimÃ©es",
        "bo_format_value": "Bo{bo}",
        "winner_bracket_bo5_from": "Winner: Ã€ partir du round {round}",
        "loser_bracket_bo5_from": "Loser: Ã€ partir du round {round}", 
        "winner_bracket_always_bo3": "Winner: Toujours BO3",
        "loser_bracket_always_bo3": "Loser: Toujours BO3",
        "bo_format_custom": "Bo3/BO5",
        "setups_label": "ğŸ–¥ï¸ Setups",
        "setups_value": "{count} setups" if "{count}" != "1" else "1 setup",
        "setup_numbering_label": "ğŸ”¢ NumÃ©rotation",
        "setup_numbering_value": "Setup #{first} Ã  #{last}",
        "tournament_label": "ğŸ® Tournoi",
        "event_label": "ğŸ“Š Ã‰vÃ©nement",
        "event_value": "{name} ({numEntrants} participants)",
        "pool_label": "ğŸ“… Pool",
        "pool_value": "{phase} - {pool}",
        "launch_label": "âœ… Lancer le Tournoi",
        "launch_value": "Avec la commande `/start_matches`",
        "tournament_config_log": "Tournoi configurÃ©: Bo{bo}, {count} setups (#{first}-#{last})",
        "tournament_config_title": "Configuration du Tournoi",
        "tournament_link_label": "Lien du tournoi",
        "invalid_link_format": "âŒ Le lien doit Ãªtre au format : `https://start.gg/tournament/nom-du-tournoi`\nExemple : `https://start.gg/tournament/evo-2024`",
        "extract_slug_error": "âŒ Impossible d'extraire le nom du tournoi depuis le lien.",
        "tournament_not_found": "âŒ Tournoi '{slug}' non trouvÃ©. VÃ©rifiez le lien et rÃ©essayez.",
        "admin_rights_required": "âŒ La clÃ© start.gg associÃ©e doit avoir les droits admin pour gÃ©rer ce tournoi.",
        "tournament_config_success": "âœ… Tournoi configurÃ© avec succÃ¨s !",
        "events_label": "ğŸ® Ã‰vÃ©nements",
        "welcome": "Bienvenue sur {server} !",
        "setup_tournament_description": "Configure un tournoi pour la gestion automatique",
        "help": "Aide : Tapez `!aide`",
        "lang_set": "Langue passÃ©e en franÃ§ais !",
        "dm_not_allowed": "âŒ Cette commande ne peut Ãªtre utilisÃ©e que sur un serveur Discord (pas en DM).",
        "missing_role": "âŒ Tu dois avoir le rÃ´le `{role}` pour utiliser cette commande.",
        "bot_connected": "âœ… Bot connectÃ© en tant que {name}",
        "commands_synced": "âœ… {count} commandes synchronisÃ©es",
        "sync_failed": "âŒ Ã‰chec de la synchronisation : {error}",
        "from_this_round": "Ã€ partir de ce round {bo}",
        "never_bo5_in_bracket": "Ne jamais passer en BO5 dans le {bracket_type} bracket",
        "server_info": "ğŸ”— Serveur: {name}",
        "bot_admin": "âœ… Bot est ADMIN - Toutes permissions OK",
        "bot_not_admin": "âŒ Bot n'est PAS admin\n   â†’ Donnez la permission 'Administrateur' au rÃ´le du bot",
        "role_configured": "âœ… RÃ´le '{role}' configurÃ©",
        "role_permission_error": "âŒ Impossible de gÃ©rer les rÃ´les (permission manquante)",
        "role_error": "âŒ Erreur rÃ´le: {error}",
        "bot_ready": "ğŸ”— Bot prÃªt !",
        "force_refresh_description": "Force un rechargement COMPLET des matchs",
        "no_tournament": "âŒ Aucun tournoi configurÃ©.",
        "wrong_guild": "âŒ Le tournoi actuel est sur un autre serveur.",
        "no_manager": "âŒ Aucun gestionnaire actif.",
        "full_stop_done": "âœ… **ArrÃªt complet terminÃ© :**\nâ€¢ Gestionnaire de matchs arrÃªtÃ©\nâ€¢ {channels} channels supprimÃ©s\nâ€¢ Toutes les listes nettoyÃ©es",
        "delete_channel_error": "Erreur lors de la suppression du channel {name}: {error}",
        "delete_permission_denied": "Permission refusÃ©e pour supprimer le channel {name}.",
        "station_freed": "ğŸ”§ Station {number} forcÃ©e Ã  Ãªtre libre",
        "station_free_error": "âŒ Erreur: {error}",
        "stations_title": "ğŸ® Statut des Stations",
        "station_used": "ğŸ”´ OccupÃ©e",
        "station_free": "ğŸŸ¢ Libre",
        "match_info": "ğŸ“‹ {p1} vs {p2}",
        "help_title": "ğŸ†˜ Aide du Bot de Tournoi",
        "help_description": "**Commandes disponibles** :",
        "help_config": "`/setup_tournament` - Configurer un nouveau tournoi\n`/start_matches` - DÃ©marrer la gestion automatique\n`/stop_matches` - Tout arrÃªter et nettoyer\n`/force_refresh` - Rechargement complet (en cas de bug)",
        "help_matches": "`/match_status` - Statut global du gestionnaire\n`/list_stations` - Liste des stations et leur Ã©tat",
        "help_maintenance": "`/force_station_free [nÂ°]` - LibÃ©rer une station bloquÃ©e",
        "help_footer": "ğŸ’¡ Les commandes marquÃ©es nÃ©cessitent le rÃ´le 'Tournament Admin'",
        "refresh_done": "ğŸ”„ Rechargement complet des matchs effectuÃ©",
        "pending_matches_count": "ğŸ¯ {count} matchs en attente de traitement",
        "bo3_label": "BO3 (standard)",
        "bo5_label": "BO5 (finales)",
        "custom_format_label": "Format personnalisÃ©",
        "setup_number_config_label" : "Premier setup: #{first_setup_number}",
        "all_player_can_check_presence": "Un joueur peut check in son adversaire",
        "no_player_can_check_presence": "Un joueur ne peut pas check in son adversaire",
        "all_matches_in": "Tous les matchs en {bo}",
        "custom_format_desc": "BO3 avant certains rounds, BO5 aprÃ¨s",
        "match_fetch_error": "âŒ Erreur lors de la rÃ©cupÃ©ration des matchs : {error}",
        "new_matches_added": "ğŸ”„ {count} nouveaux matchs dÃ©tectÃ©s et ajoutÃ©s Ã  la file d'attente",
        "refresh_error_log": "Erreur lors du rafraÃ®chissement des matchs : {error}",
        "refresh_error": "âŒ Erreur lors du rafraÃ®chissement des matchs : {error}",
        "match_manager_already_running": "âš ï¸ Le gestionnaire de matchs est dÃ©jÃ  en cours d'exÃ©cution",
        "match_manager_started": "ğŸš€ Gestionnaire de matchs dÃ©marrÃ©",
        "start_matches_description": "DÃ©marre la gestion automatique des matchs",
        "stop_matches_description": "ArrÃªte la gestion automatique des matchs et nettoie tout",
        "match_manager_stopped": "â¹ï¸ ArrÃªt du gestionnaire de matchs demandÃ©",
        "new_matches_log": "Nouveaux matchs dÃ©tectÃ©s : {count}",
        "processing_loop_error_log": "Erreur dans la boucle de traitement : {error}",
        "all_matches_processed": "âœ… Tous les matchs ont Ã©tÃ© traitÃ©s !",
        "match_assigned": "ğŸ® Match assignÃ© Ã  la station {station} : **{p1}** vs **{p2}**",
        "match_assign_error": "âŒ Erreur lors de l'assignation du match : {error}",
        "no_channel_for_match": "Aucun channel disponible pour le match",
        "match_started": "ğŸ¯ **Match commencÃ©** - <@{p1_id}> vs <@{p2_id}> (BO{bo}) {round} {eventName}",
        "game_waiting_report": "**Game {game}** - En attente du rÃ©sultat...",
        "game_reported": "âœ… Game {game} reportÃ© : **{winner}** gagne",
        "match_finished": "ğŸ† **Match terminÃ© !** Vainqueur : **{winner}**",
        "channel_delete_soon": "ğŸ• Ce channel sera supprimÃ© dans 1 minute...",
        "game_timeout": "âŒ› Temps Ã©coulÃ© pour ce jeu - Match en pause",
        "setup_number_invalid": "âŒ Le numÃ©ro du setup doit Ãªtre supÃ©rieur Ã  0.",
        "Setup_numbers": "NumÃ©ros du premier setup",
        "match_error": "âŒ Erreur pendant le match : {error}",
        "match_error_log": "Erreur de match : {error}",
        "channel_deleted_log": "Channel station-{station} supprimÃ© automatiquement",
        "channel_already_deleted_log": "Channel station-{station} dÃ©jÃ  supprimÃ©",
        "channel_delete_permission_error_log": "Pas de permission pour supprimer le channel station-{station}",
        "channel_delete_error_log": "Erreur lors de la suppression du channel station-{station} : {error}",
        "cleanup_error_log": "Erreur de nettoyage : {error}",
        "match_manager_status_title": "ğŸ“Š Statut du gestionnaire de matchs",
        "setup_number_config_title": "Configuration du numÃ©ro de setup",
        "launch_tournament_label": "ğŸš€ Lancer le tournoi",
        "finish_config_label": "âœ… Terminer la configuration",
        "status_state_label": "Ã‰tat",
        "status_active": "ğŸŸ¢ Actif",
        "status_stopped": "ğŸ”´ ArrÃªtÃ©",
        "status_pending_matches_label": "Matchs en attente",
        "status_active_matches_label": "Matchs actifs",
        "status_station_info": "Station {station} : {p1} vs {p2}",
        "status_active_stations_label": "Stations actives",
        "status_none": "Aucun",
        "station_freed_message": "ğŸ”„ Station {station} libÃ©rÃ©e",
        "error_assigning_match": "âŒ Erreur lors de l'assignation du match : {error}",
        "error_fetching_matches": "âŒ Erreur lors de la rÃ©cupÃ©ration des matchs : {error}",
        "error_refreshing_matches": "âŒ Erreur lors du rafraÃ®chissement des matchs : {error}",
        "new_matches_console_log": "Nouveaux matchs dÃ©tectÃ©s : {count}",
        "error_processing_loop": "Erreur dans la boucle de traitement : {error}",
        "status_embed_title": "ğŸ“Š Statut du gestionnaire de matchs",
        "status_field_state": "Ã‰tat",
        "status_value_active": "ğŸŸ¢ Actif",
        "status_value_stopped": "ğŸ”´ ArrÃªtÃ©",
        "status_field_pending_matches": "Matchs en attente",
        "status_field_active_matches": "Matchs actifs",
        "status_field_active_stations": "Stations actives",
        "search_modal_title": "Recherche de personnage",
        "select_winner": "SÃ©lectionner le vainqueur",
        "validate": "Valider",
        "select_number_of_tournaments": "SÃ©lectionnez le nombre de tournois Ã  configurer",
        "select_number_of_tournaments_prompt": "Combien de tournois souhaitez-vous configurer ?",
        "number_of_tournaments": "Nombre de tournois",
         "select_phase_before_validate": " âŒ Veuillez sÃ©lectionner une phase avant de valider.",
        "select_pool_before_validate" : " âŒ Veuillez sÃ©lectionner une poule avant de valider.",
        "select_event_before_validate": " âŒ Veuillez sÃ©lectionner un Ã©vÃ©nement avant de valider.",
        # Gestion multi-tournois
"both_players_not_in_tournament": "Les joueurs {p1} et {p2} ne sont pas inscrits dans {tournament}",
"player_not_in_tournament": "Le joueur {player} n'est pas inscrit dans {tournament}",
"player_busy_in_other_tournament": "{player} joue dÃ©jÃ  dans : {tournaments}",
"both_players_unavailable": "{p1_reason} | {p2_reason}",
"player_unavailable_unknown": "{player} n'est pas disponible (raison inconnue)",

# Nettoyage et diagnostic
"match_manager_stopped_cleaned": "Gestionnaire arrÃªtÃ© pour {tournament}. {players_removed} joueurs libÃ©rÃ©s.",
"status_tournament_players_in_game_label": "Joueurs en jeu (ce tournoi)",
"tournament_conflicts_diagnosis_title": "Diagnostic des conflits entre tournois",
"conflicted_matches_label": "Matchs en conflit",
"active_tournaments_label": "Tournois actifs",
"current_tournament_label": "Tournoi actuel",
"no_conflicts_detected": "Aucun conflit dÃ©tectÃ©",

# Logging amÃ©liorÃ©
"players_added_to_game_log": "Joueurs {p1}, {p2} ajoutÃ©s Ã  {tournament}. Global: {total_global}, Tournoi: {total_tournament}",
"players_removed_from_game_log": "Joueurs {p1}, {p2} retirÃ©s de {tournament}. Global: {total_global}, Tournoi: {total_tournament}",
    },
    "en": {
        "station_assigned_log": "Station: {station} assigned to match: {match}",
        "startgg_report_error": "start.gg report error: {error}",
        "event_option_label": "{name} ({numEntrants} entrants)",
        "event_select_placeholder": "Select an event",
        "event_selected": "âœ… Event selected: **{name}**",
        "no_phase_available": "No phase available",
        "phase_select_placeholder": "Select a phase",
        "pool_option_label": "Pool {displayIdentifier}",
        "pool_select_placeholder": "Select a pool",
        "no_pool_available": "No pool available",
        "validate_config_label": "âœ… Validate Configuration",
        "config_event_summary": "ğŸ® **Event**: {name}",
        "config_phase_summary": "ğŸ“Š **Phase**: {name}",
        "config_pool_summary": "ğŸŠ **Pool**: {displayIdentifier}",
        "select_event_before_validate": "âŒ Please select at least one event before validating.",
        "tournament_validated_title": "âœ… Tournament configuration validated!",
        "setup_tournament_description": "Configure a tournament for automatic management",
        "start_matches_description": "Start automatic match management",
        "next_step_label": "â¡ï¸ Next step",
        "stop_matches_description": "Stop automatic match management and clean everything up",
        "match_status_description": "Display the status of the match manager",
        "next_step_value": "Now configure match settings",
        "winner_select_placeholder": "Who won the match?",
        "winner_selected": "âœ… {name} designated as winner",
        "no_character_available": "0 character available",
        "no_result": "No result",
        "character_select_placeholder": "Character ({count} available)",
        "character_selected": "âœ… {character} selected for {name}",
        "search_label": "Type part of the name",
        "match_title": "âš” {p1} vs {p2}",
        "not_selected": "âŒ Not selected",
        "never_bo5_in_bracket": "Never switch to BO5 in the {bracket_type} bracket",
        "force_station_free_description": "Force the release of a station (in case of issues)",
        "stations_description": "List all stations and their status",
        "winner_label": "ğŸ† WINNER",
        "character_select_for": "Character selection for {name}",
        "winner_select_label": "Select the match winner:",
        "complete_all_selections": "Please complete all selections",
        "result_saved_title": "ğŸ‰ Result saved!",
        "match_configure_desc": "Configure the match:",
        "finish_config_label": "âœ… Finish Configuration",
        "match_format_label": "âš”ï¸ Match format",
        "bo_format_value": "Bo{bo}",
        "bo_format_custom": "Bo3/BO5",
        "setups_label": "ğŸ–¥ï¸ Setups",
        "setups_value": "{count} setups" if "{count}" != "1" else "1 setup",
        "setup_numbering_label": "ğŸ”¢ Numbering",
        "setup_numbering_value": "Setup #{first} to #{last}",
        "tournament_label": "ğŸ® Tournament",
        "event_label": "ğŸ“Š Event",
        "event_value": "{name} ({numEntrants} entrants)",
        "from_this_round": "From this round {bo}",
        "setup_number_config_label" : "First setup: #{first_setup_number}",
        "pool_label": "ğŸ“… Pool",
        "pool_value": "{phase} - {pool}",
        "launch_label": "âœ… Launch Tournament",
        "launch_value": "With the command `/start_matches`",
        "tournament_config_log": "Tournament configured: Bo{bo}, {count} setups (#{first}-#{last})",
        "tournament_config_title": "Tournament Configuration",
        "tournament_link_label": "Tournament Link",
        "invalid_link_format": "âŒ The link must be in the format: `https://start.gg/tournament/tournament-name`\nExample: `https://start.gg/tournament/evo-2024`",
        "extract_slug_error": "âŒ Unable to extract tournament name from link.",
        "tournament_not_found": "âŒ Tournament '{slug}' not found. Check the link and try again.",
        "admin_rights_required": "âŒ The associated start.gg key must have admin rights to manage this tournament.",
        "tournament_config_success": "âœ… Tournament configured successfully!",
        "select_phase_before_validate": "âŒ Please select a phase before validating.",
        "select_pool_before_validate" : "âŒ Please select a pool before validating.",
        "select_event_before_validate": "âŒ Please select an event before validating.",
        "events_label": "ğŸ® Events",
        "all_player_can_check_presence": "Players can check in each other's presence",
        "no_player_can_check_presence": "Players can't check in each other's presence",
        "player_dq_no_show": "âŒ {player} disqualified for no-show, {winner} wins the match",
        "present_button": "{player} click here if you are at the setup",
        "not_your_button": "âŒ This is not your button!",
        "player_confirmed_present": "âœ… {player} is present!",
        "time_limit_label": "â³ Time limit to confirm presence",
        "players_status_label": "Player Presence",
        "both_players_present": "âœ… Both players are present",
        "player_disqualified": "âŒ {player} disqualified for no-show",
        "time_limit_value": "5 minutes",
        "presence_check_title": "Presence Check",
        "presence_check_description": "Please confirm your presence at the setup",
        "winner_bracket_bo5_from": "Winner: From round {round}",
        "loser_bracket_bo5_from": "Loser: From round {round}", 
        "winner_bracket_always_bo3": "Winner: Always BO3",
        "loser_bracket_always_bo3": "Loser: Always BO3",
        "welcome": "Welcome to {server}!",
        "help": "Help: Type `!help`",
        "lang_set": "Language switched to English!",
        "dm_not_allowed": "âŒ This command can only be used in a server (not in DM).",
        "missing_role": "âŒ You must have the `{role}` role to use this command.",
        "bot_connected": "âœ… Bot connected as {name}",
        "commands_synced": "âœ… {count} commands synced",
        "sync_failed": "âŒ Sync failed: {error}",
        "server_info": "ğŸ”— Server: {name}",
        "bot_admin": "âœ… Bot is ADMIN - All permissions OK",
        "bot_not_admin": "âŒ Bot is NOT admin\n   â†’ Give the bot role the 'Administrator' permission",
        "role_configured": "âœ… Role '{role}' configured",
        "role_permission_error": "âŒ Cannot manage roles (missing permission)",
        "role_error": "âŒ Role error: {error}",
        "bot_ready": "ğŸ”— Bot ready!",
        "Setup_numbers": "First setup numbers",
        "no_tournament": "âŒ No tournament configured.",
        "wrong_guild": "âŒ The current tournament is on another server.",
        "no_manager": "âŒ No active manager.",
        "full_stop_done": "âœ… **Complete stop finished:**\nâ€¢ Match manager stopped\nâ€¢ {channels} channels deleted\nâ€¢ All lists cleared",
        "delete_stations_description": "delete all stations",
        "delete_stations_done": "âœ… {num_station} stations deleted",
        "delete_channel_error": "Error deleting channel {name}: {error}",
        "delete_permission_denied": "Permission denied to delete channel {name}.",
        "station_freed": "ğŸ”§ Station {number} forcibly freed",
        "station_free_error": "âŒ Error: {error}",
        "stations_title": "ğŸ® Station Status",
        "station_used": "ğŸ”´ Occupied",
        "station_free": "ğŸŸ¢ Free",
        "match_info": "ğŸ“‹ {p1} vs {p2}",
        "help_title": "ğŸ†˜ Tournament Bot Help",
        "help_description": "**Available commands**:",
        "help_config": "`/setup_tournament` - Configure a new tournament\n`/start_matches` - Start automatic handling\n`/stop_matches` - Stop everything and clean up\n`/force_refresh` - Full refresh (if bug)",
        "help_matches": "`/match_status` - Match manager global status\n`/list_stations` - List stations and their state",
        "help_maintenance": "`/force_station_free [nÂ°]` - Free a stuck station",
        "help_footer": "ğŸ’¡ Commands marked require the 'Tournament Admin' role",
        "refresh_done": "ğŸ”„ Full match list refresh done",
        "pending_matches_count": "ğŸ¯ {count} matches pending processing",
        "bo3_label": "BO3 (standard)",
        "bo5_label": "BO5 (finals)",
        "custom_format_label": "Custom format",
        "all_matches_in": "All matches in {bo}",
        "custom_format_desc": "BO3 before some rounds, BO5 after",
        "match_fetch_error": "âŒ Error fetching matches: {error}",
        "new_matches_added": "ğŸ”„ {count} new matches detected and added to the queue",
        "refresh_error_log": "Error refreshing matches: {error}",
        "refresh_error": "âŒ Error refreshing matches: {error}",
        "match_manager_already_running": "âš ï¸ Match manager is already running",
        "match_manager_started": "ğŸš€ Match manager started",
        "match_manager_stopped": "â¹ï¸ Match manager stop requested",
        "new_matches_log": "New matches detected: {count}",
        "processing_loop_error_log": "Error in processing loop: {error}",
        "all_matches_processed": "âœ… All matches have been processed!",
        "match_assigned": "ğŸ® Match assigned to station {station}: **{p1}** vs **{p2}**",
        "match_assign_error": "âŒ Error assigning match: {error}",
        "no_channel_for_match": "No channel available for the match",
        "match_started": "ğŸ¯ **Match started** - <@{p1_id}> vs <@{p2_id}> (BO{bo}) {round} {eventName}",
        "game_waiting_report": "**Game {game}** - Waiting for report...",
        "game_reported": "âœ… Game {game} reported: **{winner}** wins",
        "match_finished": "ğŸ† **Match finished!** Winner: **{winner}**",
        "channel_delete_soon": "ğŸ• This channel will be deleted in 1 minute...",
        "help_description": "Displays the complete help menu of the bot",
        "force_refresh_description": "Force a COMPLETE refresh of matches",
        "game_timeout": "âŒ› Time expired for this game - Match paused",
        "match_error": "âŒ Error during match: {error}",
        "match_error_log": "Match error: {error}",
        "channel_deleted_log": "Channel station-{station} deleted automatically",
        "channel_already_deleted_log": "Channel station-{station} already deleted",
        "channel_delete_permission_error_log": "No permission to delete channel station-{station}",
        "channel_delete_error_log": "Error deleting channel station-{station}: {error}",
        "cleanup_error_log": "Cleanup error: {error}",
        "match_manager_status_title": "ğŸ“Š Match Manager Status",
        "setup_number_config_title": "Setup Number Configuration",
        "setup_number_invalid": "âŒ The setup number must be greater than 0.",
        "status_state_label": "State",
        "status_active": "ğŸŸ¢ Active",
        "status_stopped": "ğŸ”´ Stopped",
        "status_pending_matches_label": "Pending matches",
        "status_active_matches_label": "Active matches",
        "status_station_info": "Station {station}: {p1} vs {p2}",
        "status_active_stations_label": "Active stations",
        "status_none": "None",
        "station_freed_message": "ğŸ”„ Station {station} freed",
        "error_assigning_match": "âŒ Error assigning match: {error}",
        "error_fetching_matches": "âŒ Error fetching matches: {error}",
        "error_refreshing_matches": "âŒ Error refreshing matches: {error}",
        "new_matches_console_log": "New matches detected: {count}",
        "error_processing_loop": "Error in processing loop: {error}",
        "status_embed_title": "ğŸ“Š Match Manager Status",
        "status_field_state": "State",
        "status_value_active": "ğŸŸ¢ Active",
        "status_value_stopped": "ğŸ”´ Stopped",
        "status_field_pending_matches": "Pending matches",
        "status_field_active_matches": "Active matches",
        "status_field_active_stations": "Active stations",
        "launch_tournament_label": "ğŸš€ Start Tournament",
        "search_modal_title": "Search Character",
        "select_winner": "Select Winner",
        "validate": "Validate",
        "select_number_of_tournaments": "Select the number of tournaments to configure",
        "select_number_of_tournaments_prompt": "How many tournaments do you want to configure?",
        "number_of_tournaments": "Number of tournaments",
        "both_players_not_in_tournament": "Both players {p1} and {p2} are not registered in {tournament}",
"player_not_in_tournament": " Player {player} is not registered in {tournament}",
"player_busy_in_other_tournament": " {player} is already playing in: {tournaments}",
"both_players_unavailable": " {p1_reason} | {p2_reason}",
"player_unavailable_unknown": " {player} is not available (unknown reason)",

# Nettoyage et diagnostic
"match_manager_stopped_cleaned": " Match manager stopped for {tournament}. {players_removed} players freed.",
"status_tournament_players_in_game_label": " Players in game (this tournament)",
"tournament_conflicts_diagnosis_title": " Tournament Conflict Diagnosis",
"conflicted_matches_label": " Conflicted Matches",
"active_tournaments_label": " Active Tournaments",
"current_tournament_label": " Current Tournament",
"no_conflicts_detected": " No conflicts detected",

# Logging amÃ©liorÃ©
"players_added_to_game_log": "Joueurs {p1}, {p2} ajoutÃ©s Ã  {tournament}. Global: {total_global}, Tournoi: {total_tournament}",
"players_removed_from_game_log": "Joueurs {p1}, {p2} retirÃ©s de {tournament}. Global: {total_global}, Tournoi: {total_tournament}",
    }
}

load_dotenv()
current_lang = os.getenv("LANG")  # Default to English if not set
print(f"Detected language from environment: {current_lang}")
if current_lang not in translations:
    current_lang = "en"  # Fallback to English if the specified language is not available
print(f"Current language set to: {current_lang}")

# 3. Fonction de traduction
def translate(key: str, **kwargs) -> str:
    """RÃ©cupÃ¨re la traduction dans la langue actuelle."""
    try:
        return translations[current_lang][key].format(**kwargs)
    except KeyError:
        return f"[ERROR: Key '{key}' not found]"
